{"version":3,"sources":["websocket.js"],"names":["connect","socket","WebSocket","$at","socketUrl","e","alert","onopen","sOpen","onerror","sError","onmessage","sMessage","onclose","sClose","console","log","msg","videoSetInfo","send","data","JSON","stringify","close","PublicCall","this","open","Arguments","receiverName","senderName","messageID","messageType","Service","Action","viewOpen","HostId","viewClose","stateFun","winId","server","action"],"mappings":"AACA,QAASA,WACL,IACIC,OAAO,GAAIC,WAAUC,IAAIC,WAC5B,MAAMC,GAEH,WADAC,OAAM,SAGVL,OAAOM,OAASC,MAChBP,OAAOQ,QAAQC,OACfT,OAAOU,UAAUC,SACjBX,OAAOY,QAAQC,OAGnB,QAASN,SACLO,QAAQC,IAAI,oBAEhB,QAASN,UACLK,QAAQC,IAAI,iBAEhB,QAASJ,UAASK,GACjBC,aAAaD,GAEd,QAASH,UACRd,UACGe,QAAQC,IAAI,iBAEhB,QAASG,MAAKC,GACbL,QAAQC,IAAIK,KAAKC,UAAUF,IACxBnB,OAAOkB,KAAKE,KAAKC,UAAUF,IAE/B,QAASG,SACLtB,OAAOsB,QAEX,QAASL,cAAaD,GACrBF,QAAQC,IAAIC,EAAIG,MAGjB,QAASI,cACRC,KAAKC,KAAO,SAAUC,GACrB,GAAIP,IACHQ,aAAgB,WAChBC,WAAc,MACdC,UAAa,SACbC,YAAe,GACfC,QAAW,kBACXC,OAAU,OACVN,UAAaA,EAEd,OAAOP,IAERK,KAAKF,MAAQ,SAAUI,GACtB,GAAIP,IACHQ,aAAgB,WAChBC,WAAc,MACdC,UAAa,SACbC,YAAe,GACfC,QAAW,kBACXC,OAAU,QACVN,UAAaA,EAEd,OAAOP,IAERK,KAAKS,SAAW,SAASP,GACxB,GAAIP,IACHQ,aAAgB,WACbC,WAAc,MACdC,UAAa,SACbC,YAAe,GACfC,QAAW,kBACXC,OAAU,aACVE,OAAS,UACTR,UAAaA,EAEjB,OAAOP,IAERK,KAAKW,UAAY,SAAST,GACzB,GAAIP,IACHQ,aAAgB,WACbC,WAAc,MACdC,UAAa,SACbC,YAAe,GACfC,QAAW,kBACXC,OAAU,cACVE,OAAS,UACTR,UAAaA,EAEjB,OAAOP,IAERK,KAAKY,SAAW,SAASC,EAAMC,EAAOC,GACrC,GAAIpB,IACHQ,aAAgBU,EACbT,WAAc,MACdC,UAAa,SACbC,YAAe,GACfC,QAAUO,EACVN,OAASO,EAEb,OAAOpB,IAlGT,GAAInB","file":"websocket.js","sourcesContent":["var socket;\r\nfunction connect(){\r\n    try{\r\n        socket=new WebSocket($at.socketUrl);\r\n    }catch(e){\r\n        alert('error');\r\n        return;\r\n    }\r\n    socket.onopen = sOpen;\r\n    socket.onerror=sError;\r\n    socket.onmessage=sMessage;\r\n    socket.onclose=sClose\r\n\r\n}\r\nfunction sOpen(){ \r\n    console.log('connect success!');\r\n}\r\nfunction sError(){\r\n    console.log('connect error')\r\n}\r\nfunction sMessage(msg){\r\n\tvideoSetInfo(msg);\r\n}\r\nfunction sClose(){\r\n\tconnect();\r\n    console.log('connect close')\r\n}\r\nfunction send(data){\r\n\tconsole.log(JSON.stringify(data));\r\n    socket.send(JSON.stringify(data)); \r\n}\r\nfunction close(){\r\n    socket.close();\r\n}\r\nfunction videoSetInfo(msg){\r\n\tconsole.log(msg.data);\r\n}\r\n\r\nfunction PublicCall(){\r\n\tthis.open = function (Arguments) {\r\n\t\tvar data = {\r\n\t\t\t\"receiverName\": \"Deamon-1\",\r\n\t\t\t\"senderName\": \"web\",\r\n\t\t\t\"messageID\": \"123456\",\r\n\t\t\t\"messageType\": \"\",\r\n\t\t\t\"Service\": \"multiScreenCall\",\r\n\t\t\t\"Action\": \"open\",\r\n\t\t\t\"Arguments\": Arguments\r\n\t\t};\r\n\t\treturn data;\r\n\t};\r\n\tthis.close = function (Arguments) {\r\n\t\tvar data = {\r\n\t\t\t\"receiverName\": \"Deamon-1\",\r\n\t\t\t\"senderName\": \"web\",\r\n\t\t\t\"messageID\": \"123456\",\r\n\t\t\t\"messageType\": \"\",\r\n\t\t\t\"Service\": \"multiScreenCall\",\r\n\t\t\t\"Action\": \"close\",\r\n\t\t\t\"Arguments\": Arguments\r\n\t\t};\r\n\t\treturn data;\r\n\t};\r\n\tthis.viewOpen = function(Arguments){\r\n\t\tvar data = {\r\n\t\t\t\"receiverName\": \"Deamon-1\",\r\n\t\t    \"senderName\": \"web\",\r\n\t\t    \"messageID\": \"123456\",\r\n\t\t    \"messageType\": \"\",\r\n\t\t    \"Service\": \"multiScreenCall\",\r\n\t\t    \"Action\": \"openWindow\",\r\n\t\t    \"HostId\":\"daemon0\",\r\n\t\t    \"Arguments\": Arguments\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\tthis.viewClose = function(Arguments){\r\n\t\tvar data = {\r\n\t\t\t\"receiverName\": \"Deamon-1\",\r\n\t\t    \"senderName\": \"web\",\r\n\t\t    \"messageID\": \"123456\",\r\n\t\t    \"messageType\": \"\",\r\n\t\t    \"Service\": \"multiScreenCall\",\r\n\t\t    \"Action\": \"closeWindow\",\r\n\t\t    \"HostId\":\"daemon0\",\r\n\t\t    \"Arguments\": Arguments\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\tthis.stateFun = function(winId,server,action){\r\n\t\tvar data={\r\n\t\t\t\"receiverName\": winId,\r\n\t\t    \"senderName\": \"web\",\r\n\t\t    \"messageID\": \"123456\",\r\n\t\t    \"messageType\": \"\",\r\n\t\t    \"Service\":server,\r\n\t\t    \"Action\":action\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n}\r\n"],"sourceRoot":"/source/"}