function drawController(t){var e=$("#drawArea"),o=$("#drawBox"),s=$("#addPart3 ul li"),n=$("#entrySlected");drawFun(e,o,s,n,selectedScreen)}function drawFun(t,e,o,s,n){function i(e){s.hide(),l.boxTop=t.offset().top,l.boxLeft=t.offset().left,d.startX=e.pageX,d.startY=e.pageY}function f(t){d.stopX=t.pageX,d.stopY=t.pageY,d.startX-d.stopX>=0?(l.left=d.stopX,l.width=d.startX-d.stopX):(l.left=d.startX,l.width=d.stopX-d.startX),d.startY-d.stopY>=0?(l.top=d.stopY,l.height=d.startY-d.stopY):(l.top=d.startY,l.height=d.stopY-d.startY),e.width(l.width),e.height(l.height),e.css({top:l.top-l.boxTop,left:l.left-l.boxLeft});var o=l.top-l.boxTop+l.height/2+50,s=l.left-l.boxLeft+l.width/2-50;r(s,o)}function a(){return t.off("mousemove"),t.off("mouseup"),t.off("mouseleave"),l}function r(t,e){s.css({left:t,top:e})}var l={},d={};t.on("mousedown",function(r){i(r),t.on("mousemove",function(t){f(t)}),t.on("mouseup",function(){var t=a();n(o,t),e.width(0),e.height(0),s.show()}),t.on("mouseleave",function(){t.trigger("mouseup")})}),s.find("li").hover(function(){$(this).addClass("selected")},function(){$(this).removeClass("selected")}),s.on("click","li",function(){var t=s.find("li").index($(this)),e=$("#screenPlan ul").find(".selected"),o=$(this).find("p").html();e.css({background:$at.staticColors[t]}),e.find("p").html(o),s.hide()})}function selectedScreen(t,e){function o(o){var s=t.eq(o),n=s.offset().left,i=n+s.width(),f=s.offset().top,a=f+s.height(),r=e.left,l=e.left+e.width,d=e.top,h=e.top+e.height;return!(r>i||l<n||d>a||h<f)}var s=t.filter(o);t.removeClass("selected"),s.each(function(t){$(this).addClass("selected")})}
//# sourceMappingURL=maps/drawController.js.map
